<!DOCTYPE html>
<html>
<head>
    <script src="phaser1.js"></script>

    
</head>
<body>
    <script>
       

        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { create: create });
        game.backgroundColor

        var word = "cresendo";
        var correct = [];
        var bmd;
        var guesses =[]

        function create() {
            game.stage.backgroundColor = "#FFFFFF";

            //  Here we'll create a simple array where each letter of the word to enter represents one element:
            for (var i = 0; i < word.length; i++) {
                correct[word[i]] = false;
            }

            //  This is our BitmapData onto which we'll draw the word being entered
            bmd = game.make.bitmapData(800, 200);
            bmd.context.font = '60px Arial';
            bmd.context.fillStyle = '#ffffff';
            bmd.context.fillText(word, 64, 64);
            bmd.addToWorld(90,400);

            
            //  Capture all key presses
            game.input.keyboard.addCallbacks(this, null, null, keyPress);

        }
        var wordCount = 0;
        var count = 0;
        var postion=0;
        function keyPress(char) {

            //  Clear the BMD
            bmd.cls();

            //  Set the x value we'll start drawing the text from
            var x = 64;

            if (!guesses.includes(char)) {
                guesses.push(char);
               
            }
            for (var j = 0; j < guesses.length; j++){
                //var s = guesses.sort();
                
                var outPut = game.add.text(90 + (j * 12), 500 , guesses[j], {
                    font: "15px Arial",
                    fill: "#ff0044"
                })
            }
            if(!word.includes(char)) {
                count++;
              
            }
            if (count > 5) {
               


                console.log(count);
                text = game.add.text(game.world.centerX, game.world.centerY, "Nice Try", {
                    font: "15px Arial",
                    fill: "#ff0044",
                    align: "center"
                })



            }
            if (wordCount == word.length-1) {
                var win = game.add.text(90, 300, "you win", {
                    font: "15px Arial",
                    fill: "#ff0044"})
            }


            //  Loop through each letter of the word being entered and check them against the key that was pressed
            for (var i = 0; i < word.length ; i++) {
                var letter = word.charAt(i);


               
                

                

                //  If they pressed one of the letters in the word, flag it as correct

                if (count > 5) {
                    correct[letter] = true
                }
                if (char === letter) {
                    wordCount++;
                    correct[letter] = true;
                }

                //  Now draw the word, letter by letter, changing colour as required
                if (correct[letter]) {
                    bmd.context.fillStyle = '#000000';          
                    
                }

                else {

                   
                    bmd.context.fillStyle = '#ffffff';
                    
                }

                bmd.context.fillText(letter, x, 64);

                x += bmd.context.measureText(letter).width;
            
            }
        }

        


        </script>
</body >
</html >
