<!DOCTYPE html>
<html>
<head>
    <script src="phaser1.js"></script>

    
</head>
<body>
    <script>
       

        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { create: create });
        game.backgroundColor

        var word = "cresendo";
        var correct = [];
        var bmd;

        function create() {
            game.stage.backgroundColor = "#FFFFFF";

            //  Here we'll create a simple array where each letter of the word to enter represents one element:
            for (var i = 0; i < word.length; i++) {
                correct[word[i]] = false;
            }

            //  This is our BitmapData onto which we'll draw the word being entered
            bmd = game.make.bitmapData(800, 200);
            bmd.context.font = '60px Arial';
            bmd.context.fillStyle = '#ffffff';
            bmd.context.fillText(word, 64, 64);
            bmd.addToWorld();

            
            //  Capture all key presses
            game.input.keyboard.addCallbacks(this, null, null, keyPress);

        }
        var count = 0;
        var postion=0;
        function keyPress(char) {

            //  Clear the BMD
            bmd.cls();

            //  Set the x value we'll start drawing the text from
            var x = 64;

            postion++;
            var newtext = game.add.text(80 + (postion * 10), 200, char, {
                font: "15px Arial",
                fill: "#ff0044"
            

            })

            if(!word.includes(char)) {
                count++;
            }
            if (count > 5) {
               
                for (var j = 0; j < word.length; j++) {
                    var letter = word.charAt(j);
                    
                   
                    bmd.context.fillStyle = '#000000';
                    bmd.context.fillText(letter, x, 64);

                    x += bmd.context.measureText(letter).width;
                   // bmd.cls();
                }


                console.log(count);
                text = game.add.text(game.world.centerX, game.world.centerY, "You lose", {
                    font: "15px Arial",
                    fill: "#ff0044",
                    align: "center"
                })



            }


            //  Loop through each letter of the word being entered and check them against the key that was pressed
            for (var i = 0; i < word.length; i++) {
                var letter = word.charAt(i);


               
                

                

                //  If they pressed one of the letters in the word, flag it as correct
                if (char === letter) {
                    correct[letter] = true;
                }

                //  Now draw the word, letter by letter, changing colour as required
                if (correct[letter]) {
                    bmd.context.fillStyle = '#000000';
                }
                else {

                   
                    bmd.context.fillStyle = '#ffffff';
                    
                }

                bmd.context.fillText(letter, x, 64);

                x += bmd.context.measureText(letter).width;
            
            }
        }

        


        </script>
</body >
</html >
